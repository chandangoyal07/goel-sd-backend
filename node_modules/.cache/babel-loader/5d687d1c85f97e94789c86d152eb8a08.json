{"ast":null,"code":"import _slicedToArray from \"/Users/techi.s./Desktop/goel-sd/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/techi.s./Desktop/goel-sd/frontend/src/containers/Home.jsx\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Header from \"../components/Common/Header\";\nimport Footer from \"../components/Common/Footer\";\nimport PopupWriteRevew from \"../components/Popup/WriteReview\";\nimport PopupRevews from \"../components/Popup/Reviews\";\nimport Item from \"../components/Common/Item\";\nimport { fetchItems } from \"../reducks/items/operations\";\nimport { getItems } from \"../reducks/items/selectors\";\nimport { getCarts, getSubtotal } from \"../reducks/carts/selectors\";\nimport { fetchFromLocalStorage } from \"../reducks/carts/operations\";\nimport queryString from \"query-string\";\n\nvar Home = function Home() {\n  var parsed = queryString.parse(window.location.search);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showWriteReview = _useState2[0],\n      setShowWriteReview = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showReviews = _useState4[0],\n      setShowReviews = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showCartList = _useState6[0],\n      setShowCartList = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedItemId = _useState8[0],\n      setSelectedItemId = _useState8[1];\n\n  var dispatch = useDispatch();\n  var selector = useSelector(function (state) {\n    return state;\n  });\n  var items = getItems(selector);\n  var carts = getCarts(selector);\n  var subtotal = getSubtotal(selector);\n  useEffect(function () {\n    dispatch(fetchFromLocalStorage());\n    dispatch(fetchItems(parsed.category));\n  }, []);\n\n  var showItem = function showItem(item) {\n    var selected_count = 0;\n\n    if (carts[item.id] && carts[item.id].selected_count) {\n      selected_count = carts[item.id].selected_count;\n    }\n\n    if (showCartList && carts[item.id] == undefined) {\n      // if the page is cart page and item is not slected, show nothing.\n      return;\n    }\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      key: item.id,\n      item: item,\n      selected_count: selected_count,\n      setShowWriteReview: setShowWriteReview,\n      setShowReviews: setShowReviews,\n      setSelectedItemId: setSelectedItemId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"home\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    class: \"content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, showCartList ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Cart\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popular-recipes\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"Our Most Popular Recipes\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"Try our Most Delicious food and it usually take minutes to deliver!\")), /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"active\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"ALL\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/?category=hot\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"HOT\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/?category=cold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"COLD\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/?category=bagel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"BAGEL\")))), /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"items\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, items && itemsresult.map(function (item) {\n    return showItem(item);\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    price: subtotal,\n    showCartList: showCartList,\n    setShowCartList: setShowCartList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }), showWriteReview && /*#__PURE__*/React.createElement(PopupWriteRevew, {\n    selectedItemId: selectedItemId,\n    setSelectedItemId: setSelectedItemId,\n    setShowWriteReview: setShowWriteReview,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }), showReviews && /*#__PURE__*/React.createElement(PopupRevews, {\n    selectedItemId: selectedItemId,\n    setSelectedItemId: setSelectedItemId,\n    setShowReviews: setShowReviews,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Home;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Header","Footer","PopupWriteRevew","PopupRevews","Item","fetchItems","getItems","getCarts","getSubtotal","fetchFromLocalStorage","queryString","Home","parsed","parse","window","location","search","showWriteReview","setShowWriteReview","showReviews","setShowReviews","showCartList","setShowCartList","selectedItemId","setSelectedItemId","dispatch","selector","state","items","carts","subtotal","category","showItem","item","selected_count","id","undefined","itemsresult","map"],"sources":["/Users/techi.s./Desktop/goel-sd/frontend/src/containers/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Header from \"../components/Common/Header\";\nimport Footer from \"../components/Common/Footer\";\nimport PopupWriteRevew from \"../components/Popup/WriteReview\";\nimport PopupRevews from \"../components/Popup/Reviews\";\nimport Item from \"../components/Common/Item\";\nimport { fetchItems } from \"../reducks/items/operations\";\nimport { getItems } from \"../reducks/items/selectors\";\nimport { getCarts, getSubtotal } from \"../reducks/carts/selectors\";\nimport { fetchFromLocalStorage } from \"../reducks/carts/operations\";\nimport queryString from \"query-string\";\n\n\nconst Home = () => {\n  const parsed = queryString.parse(window.location.search);\n  const [showWriteReview, setShowWriteReview] = useState(false);\n  const [showReviews, setShowReviews] = useState(false);\n  const [showCartList, setShowCartList] = useState(false);\n  const [selectedItemId, setSelectedItemId] = useState();\n  const dispatch = useDispatch();\n  const selector = useSelector((state) => state);\n  const items = getItems(selector);\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n\n  useEffect(() => {\n    dispatch(fetchFromLocalStorage());\n    dispatch(fetchItems(parsed.category));\n  }, []);\n\n  const showItem = (item) => {\n    let selected_count = 0;\n    if (carts[item.id] && carts[item.id].selected_count) {\n      selected_count = carts[item.id].selected_count;\n    }\n\n    if (showCartList && carts[item.id] == undefined) {\n      // if the page is cart page and item is not slected, show nothing.\n      return;\n    }\n\n    return (\n      <li>\n        <Item\n          key={item.id}\n          item={item}\n          selected_count={selected_count}\n          setShowWriteReview={setShowWriteReview}\n          setShowReviews={setShowReviews}\n          setSelectedItemId={setSelectedItemId}\n        />\n      </li>\n    );\n  };\n\n  return (\n    <div class=\"home\">\n      <Header />\n\n      <section class=\"content\">\n        {showCartList ? (\n          <>\n            <h1>Cart</h1>\n          </>\n        ) : (\n          <>\n            <div className=\"popular-recipes\">\n              <p>Our Most Popular Recipes</p>\n              <span>\n              Try our Most Delicious food and it usually take minutes to deliver!\n              </span>\n            </div>\n            <ul class=\"category\">\n              <li class=\"active\">\n                <a href=\"/\">ALL</a>\n              </li>\n              <li>\n                <a href=\"/?category=hot\">HOT</a>\n              </li>\n              <li>\n                <a href=\"/?category=cold\">COLD</a>\n              </li>\n              <li>\n                <a href=\"/?category=bagel\">BAGEL</a>\n              </li>\n            </ul>\n          </>\n        )}\n        <ul class=\"items\">{items && itemsresult.map((item) => showItem(item))}</ul>\n      </section>\n\n      <Footer\n        price={subtotal}\n        showCartList={showCartList}\n        setShowCartList={setShowCartList}\n      />\n\n      {showWriteReview && (\n        <PopupWriteRevew\n          selectedItemId={selectedItemId}\n          setSelectedItemId={setSelectedItemId}\n          setShowWriteReview={setShowWriteReview}\n        />\n      )}\n      {showReviews && (\n        <PopupRevews\n          selectedItemId={selectedItemId}\n          setSelectedItemId={setSelectedItemId}\n          setShowReviews={setShowReviews}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}